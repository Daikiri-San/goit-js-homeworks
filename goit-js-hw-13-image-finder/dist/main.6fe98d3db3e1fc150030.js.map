{"version":3,"sources":["webpack:///./components/vendors/pnotifyNoMatchesFound.js","webpack:///./components/vendors/pnotifyInfoEndOfSearch.js","webpack:///./utils/refs.js","webpack:///./components/services/apiService.js","webpack:///./components/clearFuncs/clearSearch.js","webpack:///./components/view/IntObserver.js","webpack:///./components/createFuncs/createGuardforObserver.js","webpack:///./components/vendors/lightBox.js","webpack:///./components/view/imagesSubmitLoad.js","webpack:///./templates/imageCards.hbs"],"names":["PNotify","defaults","width","pNotifyNoMatchesFound","window","stackBottomRight","dir1","dir2","firstpos1","firstpos2","opts","title","text","type","stack","modules","Desktop","desktop","Animate","animate","inClass","outClass","styling","icons","error","pnotifyInfoEndOfSearch","info","refs","searchForm","document","querySelector","gallery","axios","baseUrl","headers","Accept","page","query","fetchImagesApi","requestParams","this","get","response","console","log","data","hits","images","length","children","pnotifyNoMatchesFound","incrementPage","warn","string","clearSearch","innerHTML","value","createObserver","observeElem","func","IntersectionObserver","entry","isIntersecting","rootMargin","threshold","observe","createGuardForObserver","body","insertAdjacentHTML","guard","openLightBox","target","classList","contains","image","dataset","source","instance","basicLightbox","show","addEventListener","closeLightBox","event","keyCode","close","removeEventListener","searchImages","async","fetchImages","undefined","fetchedArr","markup","map","obj","imageCards","join","e","preventDefault","input","currentTarget","elements","valueOfQuery","searchQuery","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","largeImageURL","likes","views","comments","downloads"],"mappings":"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","file":"main.6fe98d3db3e1fc150030.js","sourcesContent":["import PNotify from 'pnotify/dist/es/PNotify';\r\nimport 'pnotify/dist/es/PNotifyStyleMaterial';\r\n\r\nPNotify.defaults.width = '420px';\r\n\r\nfunction pNotifyNoMatchesFound() {\r\n  if (typeof window.stackBottomRight === 'undefined') {\r\n    window.stackBottomRight = {\r\n      dir1: 'up',\r\n      dir2: 'left',\r\n      firstpos1: 25,\r\n      firstpos2: 25,\r\n    };\r\n  }\r\n  const opts = {\r\n    title: 'There are no matches found.',\r\n    text: 'Please enter a more specific query!',\r\n    type: 'error',\r\n    stack: window.stackBottomRight,\r\n    modules: {\r\n      Desktop: {\r\n        desktop: true,\r\n      },\r\n      Animate: {\r\n        animate: true,\r\n        inClass: 'zoomInLeft',\r\n        outClass: 'zoomOutRight',\r\n      },\r\n    },\r\n  };\r\n  PNotify.defaults.styling = 'material';\r\n  PNotify.defaults.icons = 'material';\r\n  PNotify.error(opts);\r\n}\r\n\r\nexport default pNotifyNoMatchesFound;\r\n","import PNotify from 'pnotify/dist/es/PNotify';\r\nimport 'pnotify/dist/es/PNotifyStyleMaterial';\r\n\r\nPNotify.defaults.width = '420px';\r\n\r\nfunction pnotifyInfoEndOfSearch() {\r\n  if (typeof window.stackBottomRight === 'undefined') {\r\n    window.stackBottomRight = {\r\n      dir1: 'up',\r\n      dir2: 'left',\r\n      firstpos1: 25,\r\n      firstpos2: 25,\r\n    };\r\n  }\r\n  const opts = {\r\n    title: 'Thats all we found ;)',\r\n    type: 'info',\r\n    stack: window.stackBottomRight,\r\n    modules: {\r\n      Desktop: {\r\n        desktop: true,\r\n      },\r\n      Animate: {\r\n        animate: true,\r\n        inClass: 'zoomInLeft',\r\n        outClass: 'zoomOutRight',\r\n      },\r\n    },\r\n  };\r\n  PNotify.defaults.styling = 'material';\r\n  PNotify.defaults.icons = 'material';\r\n  PNotify.info(opts);\r\n}\r\n\r\nexport default pnotifyInfoEndOfSearch;\r\n","const refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  gallery: document.querySelector('.gallery'),\r\n};\r\n\r\nexport default refs;\r\n","/* eslint-disable consistent-return */\r\n/* eslint-disable prefer-destructuring */\r\nimport axios from 'axios';\r\nimport pnotifyNoMatchesFound from '../vendors/pnotifyNoMatchesFound';\r\nimport pnotifyInfoEndOfSearch from '../vendors/pnotifyInfoEndOfSearch';\r\nimport refs from '../../utils/refs';\r\n\r\n// const instance = axios.create({\r\n//   baseURL: 'https://pixabay.com/api/',\r\n// });\r\naxios.defaults.baseUrl = 'https://pixabay.com/api/';\r\naxios.defaults.headers = {\r\n  'Content-Type': 'application/json',\r\n  Accept: 'application/json',\r\n};\r\nconst key = '14527568-6591a78188764a7d597b0a4aa';\r\n\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  async fetchImagesApi() {\r\n    try {\r\n      const requestParams = `?q=${this.query}&page=${this.page}&per_page=12&key=${key}`;\r\n      const response = await axios.get(requestParams);\r\n      console.log(response);\r\n      const images = await response.data.hits;\r\n      console.log(images);\r\n      if (images.length === 0 && refs.gallery.children.length !== 0) {\r\n        pnotifyInfoEndOfSearch();\r\n        return;\r\n      }\r\n      if (images.length === 0) {\r\n        pnotifyNoMatchesFound();\r\n        return;\r\n      }\r\n      this.incrementPage();\r\n\r\n      return images;\r\n    } catch (err) {\r\n      pnotifyNoMatchesFound();\r\n      return console.warn(err);\r\n    }\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n};\r\n","import refs from '../../utils/refs';\r\n\r\nfunction clearSearch() {\r\n  refs.gallery.innerHTML = '';\r\n  refs.searchForm.query.value = '';\r\n}\r\n\r\nexport default clearSearch;\r\n","/* eslint-disable max-len */\r\n/* eslint-disable no-multi-spaces */\r\n\r\nfunction createObserver(observeElem, func) {\r\n  const onEntry = (entry) => {\r\n    if (entry[0].isIntersecting) {\r\n      func();\r\n    }\r\n  };\r\n\r\n  const options = {\r\n    rootMargin: '0px 0px 600px 0px',\r\n    threshold: 0.01,\r\n  };\r\n\r\n  const observer = new IntersectionObserver(onEntry, options);\r\n\r\n  observer.observe(observeElem);\r\n}\r\n\r\nexport default createObserver;\r\n// function createButton() {\r\n//   const button =    '<button id=\"load_more\" class=\"load-button\" type=\"button\">Load More</button>';\r\n//   return document.body.insertAdjacentHTML('beforeend', button);\r\n// }\r\n\r\n// export default createButton;\r\n","import refs from '../../utils/refs';\r\n\r\nfunction createGuardForObserver() {\r\n  const guardian = '<div id=\"guardian\"></div>';\r\n  document.body.insertAdjacentHTML('beforeend', guardian);\r\n  refs.guard = document.querySelector('#guardian');\r\n}\r\n\r\nexport default createGuardForObserver;\r\n","import * as basicLightbox from 'basiclightbox';\r\n\r\nfunction openLightBox({ target }) {\r\n  if (!target.classList.contains('currentImg')) {\r\n    return;\r\n  }\r\n  const largeImg = target.dataset.source;\r\n  const image = `<img class=\"modalImg\" src=\"${largeImg}\" width=\"800\" height=\"600\">`;\r\n  const instance = basicLightbox.create(image);\r\n  instance.show();\r\n  function closeLightBox(event) {\r\n    if (event.keyCode !== 27) {\r\n      return;\r\n    }\r\n    instance.close();\r\n    document.body.removeEventListener('keydown', closeLightBox);\r\n  }\r\n  document.body.addEventListener('keydown', closeLightBox);\r\n}\r\n\r\nexport default openLightBox;\r\n","import fetchImages from '../services/apiService';\r\nimport clearSearch from '../clearFuncs/clearSearch';\r\nimport refs from '../../utils/refs';\r\nimport imageCards from '../../templates/imageCards.hbs';\r\nimport createObserver from './IntObserver';\r\nimport createGuardForObserver from '../createFuncs/createGuardforObserver';\r\nimport openLightBox from '../vendors/lightBox';\r\n\r\nasync function searchImages() {\r\n  const fetchedArr = await fetchImages.fetchImagesApi();\r\n  if (fetchedArr === undefined) {\r\n    return;\r\n  }\r\n  const markup = fetchedArr.map(obj => imageCards(obj)).join('');\r\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nasync function searchImagesSubmitHandler(e) {\r\n  e.preventDefault();\r\n\r\n  const input = e.currentTarget.elements.query;\r\n  const valueOfQuery = input.value;\r\n\r\n  if (valueOfQuery === '') {\r\n    return;\r\n  }\r\n\r\n  clearSearch();\r\n  fetchImages.page = 1;\r\n  fetchImages.searchQuery = valueOfQuery;\r\n\r\n  await searchImages();\r\n  refs.gallery.addEventListener('click', openLightBox);\r\n\r\n  if (refs.guard) {\r\n    return;\r\n  }\r\n  createGuardForObserver();\r\n  if (fetchImages.page > 1) {\r\n    createObserver(refs.guard, searchImages);\r\n  }\r\n}\r\n\r\nrefs.searchForm.addEventListener('submit', searchImagesSubmitHandler);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <div class=\\\"image\\\">\\r\\n        <img class=\\\"currentImg\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":53}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" data-source=\\\"\"\n    + alias4(((helper = (helper = helpers.largeImageURL || (depth0 != null ? depth0.largeImageURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":75},\"end\":{\"line\":3,\"column\":92}}}) : helper)))\n    + \"\\\" />\\r\\n        <span class=\\\"gallery__icon\\\">\\r\\n            <i class=\\\"material-icons\\\">zoom_out_map</i>\\r\\n        </span>\\r\\n    </div>\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":12},\"end\":{\"line\":11,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":12},\"end\":{\"line\":15,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":12},\"end\":{\"line\":19,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":12},\"end\":{\"line\":23,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./components/vendors/pnotifyNoMatchesFound.js","webpack:///./components/vendors/pnotifyInfoEndOfSearch.js","webpack:///./utils/refs.js","webpack:///./components/services/apiService.js","webpack:///./components/clearFuncs/clearSearch.js","webpack:///./components/view/IntObserver.js","webpack:///./components/createFuncs/createGuardforObserver.js","webpack:///./components/vendors/lightBox.js","webpack:///./components/view/imagesSubmitLoad.js","webpack:///./templates/imageCards.hbs"],"names":["PNotify","defaults","width","pNotifyNoMatchesFound","window","stackBottomRight","dir1","dir2","firstpos1","firstpos2","opts","title","text","type","stack","modules","Desktop","desktop","Animate","animate","inClass","outClass","styling","icons","error","pnotifyInfoEndOfSearch","info","refs","searchForm","document","querySelector","gallery","page","query","fetchImagesApi","requestParams","this","fetch","response","json","obj","images","hits","length","children","pnotifyNoMatchesFound","incrementPage","console","warn","string","clearSearch","innerHTML","value","createObserver","observeElem","func","IntersectionObserver","entry","isIntersecting","rootMargin","threshold","observe","createGuardForObserver","body","insertAdjacentHTML","guard","openLightBox","target","classList","contains","image","dataset","source","instance","basicLightbox","show","addEventListener","event","keyCode","close","searchImages","async","fetchImages","undefined","fetchedArr","markup","map","imageCards","join","e","preventDefault","input","currentTarget","elements","valueOfQuery","searchQuery","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","largeImageURL","likes","views","comments","downloads"],"mappings":"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","file":"main.8253a67ccac4e53a69c8.js","sourcesContent":["import PNotify from 'pnotify/dist/es/PNotify';\r\nimport 'pnotify/dist/es/PNotifyStyleMaterial';\r\n\r\nPNotify.defaults.width = '420px';\r\n\r\nfunction pNotifyNoMatchesFound() {\r\n  if (typeof window.stackBottomRight === 'undefined') {\r\n    window.stackBottomRight = {\r\n      dir1: 'up',\r\n      dir2: 'left',\r\n      firstpos1: 25,\r\n      firstpos2: 25,\r\n    };\r\n  }\r\n  const opts = {\r\n    title: 'There are no matches found.',\r\n    text: 'Please enter a more specific query!',\r\n    type: 'error',\r\n    stack: window.stackBottomRight,\r\n    modules: {\r\n      Desktop: {\r\n        desktop: true,\r\n      },\r\n      Animate: {\r\n        animate: true,\r\n        inClass: 'zoomInLeft',\r\n        outClass: 'zoomOutRight',\r\n      },\r\n    },\r\n  };\r\n  PNotify.defaults.styling = 'material';\r\n  PNotify.defaults.icons = 'material';\r\n  PNotify.error(opts);\r\n}\r\n\r\nexport default pNotifyNoMatchesFound;\r\n","import PNotify from 'pnotify/dist/es/PNotify';\r\nimport 'pnotify/dist/es/PNotifyStyleMaterial';\r\n\r\nPNotify.defaults.width = '420px';\r\n\r\nfunction pnotifyInfoEndOfSearch() {\r\n  if (typeof window.stackBottomRight === 'undefined') {\r\n    window.stackBottomRight = {\r\n      dir1: 'up',\r\n      dir2: 'left',\r\n      firstpos1: 25,\r\n      firstpos2: 25,\r\n    };\r\n  }\r\n  const opts = {\r\n    title: 'Thats all we found ;)',\r\n    type: 'info',\r\n    stack: window.stackBottomRight,\r\n    modules: {\r\n      Desktop: {\r\n        desktop: true,\r\n      },\r\n      Animate: {\r\n        animate: true,\r\n        inClass: 'zoomInLeft',\r\n        outClass: 'zoomOutRight',\r\n      },\r\n    },\r\n  };\r\n  PNotify.defaults.styling = 'material';\r\n  PNotify.defaults.icons = 'material';\r\n  PNotify.info(opts);\r\n}\r\n\r\nexport default pnotifyInfoEndOfSearch;\r\n","const refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  gallery: document.querySelector('.gallery'),\r\n};\r\n\r\nexport default refs;\r\n","/* eslint-disable consistent-return */\r\n/* eslint-disable prefer-destructuring */\r\nimport pnotifyNoMatchesFound from '../vendors/pnotifyNoMatchesFound';\r\nimport pnotifyInfoEndOfSearch from '../vendors/pnotifyInfoEndOfSearch';\r\nimport refs from '../../utils/refs';\r\n\r\nconst baseUrl = 'https://pixabay.com/api/';\r\nconst key = '14527568-6591a78188764a7d597b0a4aa';\r\n\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  async fetchImagesApi() {\r\n    try {\r\n      const requestParams = `?q=${this.query}&page=${this.page}&per_page=12&key=${key}`;\r\n      const response = await fetch(baseUrl + requestParams);\r\n      const obj = await response.json();\r\n      const images = obj.hits;\r\n      if (images.length === 0 && refs.gallery.children.length !== 0) {\r\n        pnotifyInfoEndOfSearch();\r\n        return;\r\n      }\r\n      if (images.length === 0) {\r\n        pnotifyNoMatchesFound();\r\n        return;\r\n      }\r\n      this.incrementPage();\r\n\r\n      return images;\r\n    } catch (err) {\r\n      pnotifyNoMatchesFound();\r\n      return console.warn(err);\r\n    }\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n};\r\n","import refs from '../../utils/refs';\r\n\r\nfunction clearSearch() {\r\n  refs.gallery.innerHTML = '';\r\n  refs.searchForm.query.value = '';\r\n}\r\n\r\nexport default clearSearch;\r\n","/* eslint-disable max-len */\r\n/* eslint-disable no-multi-spaces */\r\n\r\nfunction createObserver(observeElem, func) {\r\n  const onEntry = (entry) => {\r\n    if (entry[0].isIntersecting) {\r\n      func();\r\n    }\r\n  };\r\n\r\n  const options = {\r\n    rootMargin: '0px 0px 600px 0px',\r\n    threshold: 0.01,\r\n  };\r\n\r\n  const observer = new IntersectionObserver(onEntry, options);\r\n\r\n  observer.observe(observeElem);\r\n}\r\n\r\nexport default createObserver;\r\n// function createButton() {\r\n//   const button =    '<button id=\"load_more\" class=\"load-button\" type=\"button\">Load More</button>';\r\n//   return document.body.insertAdjacentHTML('beforeend', button);\r\n// }\r\n\r\n// export default createButton;\r\n","import refs from '../../utils/refs';\r\n\r\nfunction createGuardForObserver() {\r\n  const guardian = '<div id=\"guardian\"></div>';\r\n  document.body.insertAdjacentHTML('beforeend', guardian);\r\n  refs.guard = document.querySelector('#guardian');\r\n}\r\n\r\nexport default createGuardForObserver;\r\n","import * as basicLightbox from 'basiclightbox';\r\n\r\nfunction openLightBox({ target }) {\r\n  if (!target.classList.contains('currentImg')) {\r\n    return;\r\n  }\r\n  const largeImg = target.dataset.source;\r\n  const image = `<img class=\"modalImg\" src=\"${largeImg}\" width=\"800\" height=\"600\">`;\r\n  const instance = basicLightbox.create(image);\r\n  instance.show();\r\n  document.body.addEventListener('keydown', (event) => {\r\n    if (event.keyCode !== 27) {\r\n      return;\r\n    }\r\n    instance.close();\r\n  });\r\n}\r\n\r\nexport default openLightBox;\r\n","import fetchImages from '../services/apiService';\r\nimport clearSearch from '../clearFuncs/clearSearch';\r\nimport refs from '../../utils/refs';\r\nimport imageCards from '../../templates/imageCards.hbs';\r\nimport createObserver from './IntObserver';\r\nimport createGuardForObserver from '../createFuncs/createGuardforObserver';\r\nimport openLightBox from '../vendors/lightBox';\r\n\r\nasync function searchImages() {\r\n  const fetchedArr = await fetchImages.fetchImagesApi();\r\n  if (fetchedArr === undefined) {\r\n    return;\r\n  }\r\n  const markup = fetchedArr.map(obj => imageCards(obj)).join('');\r\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nasync function searchImagesSubmitHandler(e) {\r\n  e.preventDefault();\r\n\r\n  const input = e.currentTarget.elements.query;\r\n  const valueOfQuery = input.value;\r\n\r\n  if (valueOfQuery === '') {\r\n    return;\r\n  }\r\n\r\n  clearSearch();\r\n  fetchImages.page = 1;\r\n  fetchImages.searchQuery = valueOfQuery;\r\n\r\n  await searchImages();\r\n  refs.gallery.addEventListener('click', openLightBox);\r\n\r\n  if (refs.guard) {\r\n    return;\r\n  }\r\n  createGuardForObserver();\r\n  if (fetchImages.page > 1) {\r\n    createObserver(refs.guard, searchImages);\r\n  }\r\n}\r\n\r\nrefs.searchForm.addEventListener('submit', searchImagesSubmitHandler);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <div class=\\\"image\\\">\\r\\n        <img class=\\\"currentImg\\\" src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":53}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" data-source=\\\"\"\n    + alias4(((helper = (helper = helpers.largeImageURL || (depth0 != null ? depth0.largeImageURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":75},\"end\":{\"line\":3,\"column\":92}}}) : helper)))\n    + \"\\\" />\\r\\n        <span class=\\\"gallery__icon\\\">\\r\\n            <i class=\\\"material-icons\\\">zoom_out_map</i>\\r\\n        </span>\\r\\n    </div>\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":12},\"end\":{\"line\":11,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":12},\"end\":{\"line\":15,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":12},\"end\":{\"line\":19,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":12},\"end\":{\"line\":23,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}